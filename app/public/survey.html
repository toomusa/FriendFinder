<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" type="text/css" href="./../../assets/css/reset.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="./../../assets/css/style.css">

  <title>Friend Finder</title>
</head>
<body>

  <div class="container">
  
    <div class="row">
      <div class="col-sm-12 col-xs-12 col-md-12" id="heading">
        <!-- header row -->
        <h1>Friend Finder</h1>
      </div>
    </div>
  
    <div class="row">
      <div class="col-sm-10 col-xs-12 col-md-10 offset-sm-1 offset-xs-0 offset-md-1" id="main">
        <!-- main content area -->
        <form role="form" action="http://localhost:7777/api/survey" method="POST">
            <h3>Survey Questions</h3>
            <div class="questionTitle" style="font-weight: bold">Name (required)</div>
            <input type="text" name="name" style="width: 100%">
            <div class="questionTitle" style="font-weight: bold">Link to Profile Image (required)</div>
            <input type="text" name="photo" style="width: 100%">
            <hr>
            <span class="questionTitle">Q1:</span>
            <span id="Q1" style="font-weight: bold"></span>
            <select class="response float-right" id="A1" name="A1"></select>
            <hr>
            <span class="questionTitle">Q2:</span>
            <span id="Q2" style="font-weight: bold"></span>
            <select class="response float-right" id="A2" name="A2"></select>
            <hr>
            <span class="questionTitle">Q3:</span>
            <span id="Q3" style="font-weight: bold"></span>
            <select class="response float-right" id="A3" name="A3"></select>
            <hr>
            <span class="questionTitle">Q4:</span>
            <span id="Q4" style="font-weight: bold"></span>
            <select class="response float-right" id="A4" name="A4"></select>
            <hr>
            <span class="questionTitle">Q5:</span>
            <span id="Q5" style="font-weight: bold"></span>
            <select class="response float-right" id="A5" name="A5"></select>
            <hr>
            <span class="questionTitle">Q6:</span>
            <span id="Q6" style="font-weight: bold"></span>
            <select class="response float-right" id="A6" name="A6"></select>
            <hr>
            <span class="questionTitle">Q7:</span>
            <span id="Q7" style="font-weight: bold"></span>
            <select class="response float-right" id="A7" name="A7"></select>
            <hr>
            <span class="questionTitle">Q8:</span>
            <span id="Q8" style="font-weight: bold"></span>
            <select class="response float-right" id="A8" name="A8"></select>
            <hr>
            <span class="questionTitle">Q9:</span>
            <span id="Q9" style="font-weight: bold"></span>
            <select class="response float-right" id="A9" name="A9"></select>
            <hr>
            <span class="questionTitle">Q10:</span>
            <span id="Q10" style="font-weight: bold"></span>
            <select class="response float-right" id="A10" name="A10"></select>
            <hr>
            <div style="text-align: center">
                <button class="btn btn-lg btn-primary" type="submit" data-toggle="modal" data-target="#results-modal" id="submit">Submit Answers</button>            
            </div>
        </form>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-xs-12 col-md-12" id="footing">
        <!-- footer row -->
      </div>
    </div>
    
  </div>

   <!-- Modal -->
   <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content -->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h2 class="modal-title"><strong>Your Best Match</strong></h2>
            </div>
            <div class="modal-body">
              <h2 id="match-name"></h2>
              <img id="match-img" src="" alt="">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>

        </div>
    </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


  <script type="text/javascript">
    
    const questions = [
        "Political correctness is a detriment to freedom of speech.",
        "Trigger words are the scapegoat of the mentally feeble.",
        "Extremesim is the root of all the world's problems.",
        "Sustainable practices at an individual level will not save the world.",
        "Lobbying is legalized bribery.",
        "Intolerance of intolerance is a virtue.",
        "Passion without purpose is obsession.",
        "Being offended is a personal choice.",
        "Every vote should count, but not weigh the same.",
        "All is unfair in love and war."
    ]

    // Populate survey page with questions
    questions.forEach(e => {
        (document).getElementById(`Q${questions.indexOf(e) + 1}`).textContent = e;
    });

    // Populate select box with options
    let opt0 = $(`<option value=""></option>`)
    let opt1 = $(`<option value="1">1 (Disagree)</option>`)
    let opt2 = $(`<option value="2">2</option>`)
    let opt3 = $(`<option value="3">3</option>`)
    let opt4 = $(`<option value="4">4</option>`)
    let opt5 = $(`<option value="5">5</option>`)
    let opt6 = $(`<option value="6">6</option>`)
    let opt7 = $(`<option value="7">7</option>`)
    let opt8 = $(`<option value="8">8</option>`)
    let opt9 = $(`<option value="9">9</option>`)
    let opt10 = $(`<option value="10">10 (Agree)</option>`)
    $(".response").append(opt0, opt1, opt2, opt3, opt4, opt5, opt6, opt7, opt8, opt9, opt10)


    $("#submit").on("click", function(event) {
        event.preventDefault();

        let newUser = {
        name: req.body.name,
        photo: req.body.photo,
        scores: [parseInt(req.body.A1), parseInt(req.body.A2), parseInt(req.body.A3), parseInt(req.body.A4), parseInt(req.body.A5), 
                parseInt(req.body.A6), parseInt(req.body.A7), parseInt(req.body.A8), parseInt(req.body.A9), parseInt(req.body.A10)]
    }





        $("#results-modal").modal("toggle");
    })
    

  </script>
</body>
  <!-- <script src="../data/friends.js"></script> -->
</html>